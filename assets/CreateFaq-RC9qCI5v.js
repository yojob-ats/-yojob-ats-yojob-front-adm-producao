import{r as n,i as b,c as i,g as w,a as o,w as y,e as s,v as u,m,F as _,k as q,t as v,f as C,o as d}from"./index-BCuSKRxw.js";import{_ as S}from"./SidebarRecruiter-Dkd-uXNN.js";import{f as c}from"./faq-CVI4b1Pp.js";import{t as V}from"./apiHelper-CRUk9URl.js";import{_ as k}from"./_plugin-vue_export-helper-DlAUqK2U.js";const E={class:"layout-wrapper"},F={class:"main-content"},P={class:"container"},U={class:"page-header"},$={class:"card"},x={class:"form-group"},D={class:"form-group"},M={class:"form-row"},h={class:"form-group"},B=["value"],N={class:"form-group"},R={class:"form-group"},A={class:"form-actions"},I=["disabled"],L={__name:"CreateFaq",setup(O){const f=C(),r=n(!1),p=n([]),a=n({question:"",answer:"",category_id:"",status:"draft",order:0});b(async()=>{try{const l=await c.listCategories();p.value=V(l.data)}catch{window.showError("Erro ao carregar categorias")}});async function g(){r.value=!0;try{await c.create(a.value),window.showSuccess("Pergunta criada com sucesso"),f.push("/faq")}catch{window.showError("Erro ao criar pergunta")}finally{r.value=!1}}return(l,e)=>(d(),i("div",E,[w(S),o("main",F,[o("div",P,[o("header",U,[e[7]||(e[7]=o("div",null,[o("h1",null,"Nova Pergunta"),o("p",null,"Adicione uma nova pergunta frequente")],-1)),o("button",{onClick:e[0]||(e[0]=t=>l.$router.push("/faq")),class:"btn btn-secondary"},"â† Voltar")]),o("div",$,[o("form",{onSubmit:y(g,["prevent"])},[o("div",x,[e[8]||(e[8]=o("label",null,"Pergunta",-1)),s(o("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>a.value.question=t),class:"form-control",type:"text",required:"",placeholder:"Digite a pergunta"},null,512),[[u,a.value.question]])]),o("div",D,[e[9]||(e[9]=o("label",null,"Resposta",-1)),s(o("textarea",{"onUpdate:modelValue":e[2]||(e[2]=t=>a.value.answer=t),class:"form-control",rows:"8",required:"",placeholder:"Digite a resposta..."},null,512),[[u,a.value.answer]])]),o("div",M,[o("div",h,[e[11]||(e[11]=o("label",null,"Categoria",-1)),s(o("select",{"onUpdate:modelValue":e[3]||(e[3]=t=>a.value.category_id=t),class:"form-control"},[e[10]||(e[10]=o("option",{value:""},"Selecione uma categoria",-1)),(d(!0),i(_,null,q(p.value,t=>(d(),i("option",{key:t.id,value:t.id},v(t.name),9,B))),128))],512),[[m,a.value.category_id]])]),o("div",N,[e[13]||(e[13]=o("label",null,"Status",-1)),s(o("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>a.value.status=t),class:"form-control"},[...e[12]||(e[12]=[o("option",{value:"draft"},"Rascunho",-1),o("option",{value:"published"},"Publicado",-1)])],512),[[m,a.value.status]])])]),o("div",R,[e[14]||(e[14]=o("label",null,"Ordem",-1)),s(o("input",{"onUpdate:modelValue":e[5]||(e[5]=t=>a.value.order=t),class:"form-control",type:"number",min:"0",placeholder:"0"},null,512),[[u,a.value.order,void 0,{number:!0}]])]),o("div",A,[o("button",{type:"button",onClick:e[6]||(e[6]=t=>l.$router.push("/faq")),class:"btn btn-secondary"},"Cancelar"),o("button",{type:"submit",class:"btn btn-primary",disabled:r.value},v(r.value?"Salvando...":"Criar Pergunta"),9,I)])],32)])])])]))}},J=k(L,[["__scopeId","data-v-20dac9c1"]]);export{J as default};
