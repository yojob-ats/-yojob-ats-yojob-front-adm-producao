import{r,i as b,j as g,c as l,g as f,a as t,e as v,v as y,m as C,d as k,F as S,k as w,o,t as i,n as B}from"./index-CBT-DF28.js";import{_ as E}from"./SidebarRecruiter-DDRAIM96.js";import{b as L}from"./billing-Db9NSHVk.js";import{_ as M}from"./_plugin-vue_export-helper-DlAUqK2U.js";const N={class:"layout-wrapper"},V={class:"main-content"},$={class:"container"},x={class:"filters"},A={class:"card"},F={key:0,class:"loading-state"},I={key:1,class:"table-responsive"},T={class:"table"},q={key:0},D={class:"action-buttons"},R=["onClick"],U={__name:"CompanyManagement",setup(j){const d=r(""),n=r(""),c=r([]),p=r(!0);b(async()=>{var s;try{const e=await L.getCompanies();c.value=((s=e.data)==null?void 0:s.data)??e.data??[]}catch{window.showError("Erro ao carregar empresas")}finally{p.value=!1}});const m=g(()=>c.value.filter(s=>{var u;const e=(u=s.name)==null?void 0:u.toLowerCase().includes(d.value.toLowerCase()),a=!n.value||s.status===n.value;return e&&a})),_=s=>Number(s??0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),h=s=>({active:"Ativa",inactive:"Inativa",blocked:"Bloqueada"})[s]??s;return(s,e)=>(o(),l("div",N,[f(E),t("main",V,[t("div",$,[e[5]||(e[5]=t("header",{class:"page-header"},[t("div",null,[t("h1",null,"Gestão de Empresas"),t("p",null,"Administre todas as empresas cadastradas")])],-1)),t("div",x,[v(t("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>d.value=a),type:"text",placeholder:"Buscar empresas...",class:"search-input"},null,512),[[y,d.value]]),v(t("select",{"onUpdate:modelValue":e[1]||(e[1]=a=>n.value=a),class:"select-input"},[...e[2]||(e[2]=[t("option",{value:""},"Todos os Status",-1),t("option",{value:"active"},"Ativa",-1),t("option",{value:"inactive"},"Inativa",-1),t("option",{value:"blocked"},"Bloqueada",-1)])],512),[[C,n.value]])]),t("div",A,[p.value?(o(),l("div",F,"Carregando...")):(o(),l("div",I,[t("table",T,[e[4]||(e[4]=t("thead",null,[t("tr",null,[t("th",null,"Empresa"),t("th",null,"Plano"),t("th",null,"Status"),t("th",null,"Total Faturado"),t("th",null,"Ações")])],-1)),t("tbody",null,[m.value.length===0?(o(),l("tr",q,[...e[3]||(e[3]=[t("td",{colspan:"5",class:"empty-state"},"Nenhuma empresa encontrada",-1)])])):k("",!0),(o(!0),l(S,null,w(m.value,a=>(o(),l("tr",{key:a.id},[t("td",null,[t("strong",null,i(a.name),1)]),t("td",null,i(a.plan??"—"),1),t("td",null,[t("span",{class:B(["badge",`badge-${a.status}`])},i(h(a.status)),3)]),t("td",null,i(_(a.total_invoiced??0)),1),t("td",D,[t("button",{onClick:u=>s.$router.push(`/gestao-empresas/editar/${a.id}`),class:"btn btn-sm btn-primary"},"Editar",8,R)])]))),128))])])]))])])])]))}},H=M(U,[["__scopeId","data-v-9bef5197"]]);export{H as default};
