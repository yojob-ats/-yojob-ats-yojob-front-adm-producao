import{r,i as f,j as g,c as o,g as b,a as t,e as v,v as y,m as C,d as k,F as S,k as w,o as l,t as i,n as B}from"./index-Bht71nEJ.js";import{_ as E}from"./SidebarRecruiter-BenWcOoe.js";import{b as L}from"./billing-DmHjcdts.js";import{t as A}from"./apiHelper-nSI_QOaT.js";import{_ as M}from"./_plugin-vue_export-helper-DlAUqK2U.js";const N={class:"layout-wrapper"},V={class:"main-content"},$={class:"container"},x={class:"filters"},F={class:"card"},I={key:0,class:"loading-state"},T={key:1,class:"table-responsive"},q={class:"table"},D={key:0},R={class:"action-buttons"},U=["onClick"],j={__name:"CompanyManagement",setup(z){const u=r(""),n=r(""),c=r([]),m=r(!0);f(async()=>{try{const s=await L.getCompanies();c.value=A(s.data)}catch{window.showError("Erro ao carregar empresas")}finally{m.value=!1}});const p=g(()=>c.value.filter(s=>{var d;if(!s)return!1;const e=(d=s.name)==null?void 0:d.toLowerCase().includes(u.value.toLowerCase()),a=!n.value||s.status===n.value;return e&&a})),_=s=>Number(s??0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),h=s=>({active:"Ativa",inactive:"Inativa",blocked:"Bloqueada"})[s]??s;return(s,e)=>(l(),o("div",N,[b(E),t("main",V,[t("div",$,[e[5]||(e[5]=t("header",{class:"page-header"},[t("div",null,[t("h1",null,"Gestão de Empresas"),t("p",null,"Administre todas as empresas cadastradas")])],-1)),t("div",x,[v(t("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>u.value=a),type:"text",placeholder:"Buscar empresas...",class:"search-input"},null,512),[[y,u.value]]),v(t("select",{"onUpdate:modelValue":e[1]||(e[1]=a=>n.value=a),class:"select-input"},[...e[2]||(e[2]=[t("option",{value:""},"Todos os Status",-1),t("option",{value:"active"},"Ativa",-1),t("option",{value:"inactive"},"Inativa",-1),t("option",{value:"blocked"},"Bloqueada",-1)])],512),[[C,n.value]])]),t("div",F,[m.value?(l(),o("div",I,"Carregando...")):(l(),o("div",T,[t("table",q,[e[4]||(e[4]=t("thead",null,[t("tr",null,[t("th",null,"Empresa"),t("th",null,"Plano"),t("th",null,"Status"),t("th",null,"Total Faturado"),t("th",null,"Ações")])],-1)),t("tbody",null,[p.value.length===0?(l(),o("tr",D,[...e[3]||(e[3]=[t("td",{colspan:"5",class:"empty-state"},"Nenhuma empresa encontrada",-1)])])):k("",!0),(l(!0),o(S,null,w(p.value,a=>(l(),o("tr",{key:a.id},[t("td",null,[t("strong",null,i(a.name),1)]),t("td",null,i(a.plan??"—"),1),t("td",null,[t("span",{class:B(["badge",`badge-${a.status}`])},i(h(a.status)),3)]),t("td",null,i(_(a.total_invoiced??0)),1),t("td",R,[t("button",{onClick:d=>s.$router.push(`/gestao-empresas/editar/${a.id}`),class:"btn btn-sm btn-primary"},"Editar",8,U)])]))),128))])])]))])])])]))}},K=M(j,[["__scopeId","data-v-dda86a07"]]);export{K as default};
