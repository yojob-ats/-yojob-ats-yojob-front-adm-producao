import{r as i,i as f,c as u,g as y,a as t,w,e as a,v as n,m as v,F as _,k as C,t as m,f as V,o as d}from"./index-CrCP7KB_.js";import{_ as S}from"./SidebarRecruiter-DrJaVIuD.js";import{b as c}from"./blog-Dr3QmZld.js";import{t as h}from"./apiHelper-nSI_QOaT.js";import{_ as k}from"./_plugin-vue_export-helper-DlAUqK2U.js";const A={class:"layout-wrapper"},U={class:"main-content"},x={class:"container"},B={class:"page-header"},D={class:"card"},E={class:"form-group"},$={class:"form-group"},M={class:"form-group"},N=["value"],q={class:"form-group"},F={class:"form-row"},P={class:"form-group"},R={class:"form-group"},T={class:"form-actions"},I=["disabled"],L={__name:"CreateBlog",setup(j){const g=V(),l=i(!1),p=i([]),s=i({title:"",author:"",category_id:"",content:"",published_at:"",status:"draft"});f(async()=>{try{const r=await c.listCategories();p.value=h(r.data)}catch{window.showError("Erro ao carregar categorias")}});async function b(){l.value=!0;try{await c.create(s.value),window.showSuccess("Artigo criado com sucesso"),g.push("/blog")}catch{window.showError("Erro ao criar artigo")}finally{l.value=!1}}return(r,o)=>(d(),u("div",A,[y(S),t("main",U,[t("div",x,[t("header",B,[o[8]||(o[8]=t("div",null,[t("h1",null,"Novo Artigo"),t("p",null,"Cadastre um novo artigo para o blog")],-1)),t("button",{onClick:o[0]||(o[0]=e=>r.$router.push("/blog")),class:"btn btn-secondary"},"← Voltar")]),t("div",D,[t("form",{onSubmit:w(b,["prevent"])},[t("div",E,[o[9]||(o[9]=t("label",null,"Título",-1)),a(t("input",{"onUpdate:modelValue":o[1]||(o[1]=e=>s.value.title=e),class:"form-control",type:"text",required:"",placeholder:"Digite o título do artigo"},null,512),[[n,s.value.title]])]),t("div",$,[o[10]||(o[10]=t("label",null,"Autor",-1)),a(t("input",{"onUpdate:modelValue":o[2]||(o[2]=e=>s.value.author=e),class:"form-control",type:"text",required:"",placeholder:"Nome do autor"},null,512),[[n,s.value.author]])]),t("div",M,[o[12]||(o[12]=t("label",null,"Categoria",-1)),a(t("select",{"onUpdate:modelValue":o[3]||(o[3]=e=>s.value.category_id=e),class:"form-control"},[o[11]||(o[11]=t("option",{value:""},"Selecione uma categoria",-1)),(d(!0),u(_,null,C(p.value,e=>(d(),u("option",{key:e.id,value:e.id},m(e.name),9,N))),128))],512),[[v,s.value.category_id]])]),t("div",q,[o[13]||(o[13]=t("label",null,"Conteúdo",-1)),a(t("textarea",{"onUpdate:modelValue":o[4]||(o[4]=e=>s.value.content=e),class:"form-control",rows:"10",required:"",placeholder:"Digite o conteúdo do artigo..."},null,512),[[n,s.value.content]])]),t("div",F,[t("div",P,[o[14]||(o[14]=t("label",null,"Data de Publicação",-1)),a(t("input",{"onUpdate:modelValue":o[5]||(o[5]=e=>s.value.published_at=e),class:"form-control",type:"date"},null,512),[[n,s.value.published_at]])]),t("div",R,[o[16]||(o[16]=t("label",null,"Status",-1)),a(t("select",{"onUpdate:modelValue":o[6]||(o[6]=e=>s.value.status=e),class:"form-control"},[...o[15]||(o[15]=[t("option",{value:"draft"},"Rascunho",-1),t("option",{value:"published"},"Publicado",-1)])],512),[[v,s.value.status]])])]),t("div",T,[t("button",{type:"button",onClick:o[7]||(o[7]=e=>r.$router.push("/blog")),class:"btn btn-secondary"},"Cancelar"),t("button",{type:"submit",class:"btn btn-primary",disabled:l.value},m(l.value?"Salvando...":"Criar Artigo"),9,I)])],32)])])])]))}},O=k(L,[["__scopeId","data-v-ce6eab9d"]]);export{O as default};
