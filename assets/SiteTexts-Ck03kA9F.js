import{r as c,i as y,j as v,c as a,g as h,a as t,e as f,v as b,d as w,F as g,k as C,o as l,t as u}from"./index-CBT-DF28.js";import{_ as k}from"./SidebarRecruiter-DDRAIM96.js";import{s as T}from"./siteContent-BE2IMhXJ.js";import{_ as x}from"./_plugin-vue_export-helper-DlAUqK2U.js";const L={class:"layout-wrapper"},S={class:"main-content"},B={class:"container"},D={class:"filters"},E={class:"card"},N={key:0,class:"loading-state"},V={key:1,class:"table-responsive"},$={class:"table"},j={key:0},A={class:"type-badge"},F=["onClick"],M={__name:"SiteTexts",setup(G){const n=c(""),r=c([]),p=c(!0);y(async()=>{var o;try{const s=await T.list(),e=((o=s.data)==null?void 0:o.data)??s.data??[];Array.isArray(e)?r.value=e:r.value=Object.entries(e).map(([i,d])=>typeof d=="object"?{type:i,...d}:{type:i,body:d})}catch{window.showError("Erro ao carregar textos do site")}finally{p.value=!1}});const _=v(()=>r.value.filter(o=>{var s,e;return((s=o.type)==null?void 0:s.toLowerCase().includes(n.value.toLowerCase()))||((e=o.title)==null?void 0:e.toLowerCase().includes(n.value.toLowerCase()))})),m=o=>o?new Date(o).toLocaleDateString("pt-BR"):"—";return(o,s)=>(l(),a("div",L,[h(k),t("main",S,[t("div",B,[s[3]||(s[3]=t("header",{class:"page-header"},[t("div",null,[t("h1",null,"Textos do Site"),t("p",null,"Gerencie os conteúdos estáticos do site")])],-1)),t("div",D,[f(t("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>n.value=e),type:"text",placeholder:"Buscar por tipo ou título...",class:"search-input"},null,512),[[b,n.value]])]),t("div",E,[p.value?(l(),a("div",N,"Carregando...")):(l(),a("div",V,[t("table",$,[s[2]||(s[2]=t("thead",null,[t("tr",null,[t("th",null,"Tipo"),t("th",null,"Título"),t("th",null,"Última Edição"),t("th",null,"Ações")])],-1)),t("tbody",null,[_.value.length===0?(l(),a("tr",j,[...s[1]||(s[1]=[t("td",{colspan:"4",class:"empty-state"},"Nenhum conteúdo encontrado",-1)])])):w("",!0),(l(!0),a(g,null,C(_.value,e=>(l(),a("tr",{key:e.type},[t("td",null,[t("span",A,u(e.type),1)]),t("td",null,u(e.title??e.type),1),t("td",null,u(m(e.updated_at)),1),t("td",null,[t("button",{onClick:i=>o.$router.push(`/textos-site/editar/${e.type}`),class:"btn btn-sm btn-primary"},"Editar",8,F)])]))),128))])])]))])])])]))}},U=x(M,[["__scopeId","data-v-513c7e3b"]]);export{U as default};
