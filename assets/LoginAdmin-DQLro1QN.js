import{u as _,r as p,c as u,a as s,b as f,w as A,d as S,e as h,v as g,t as b,f as k,o as c}from"./index-BCuSKRxw.js";function x(a){if(typeof a=="string")return a;if(typeof a=="object"&&a!==null){const o=[];for(const t in a)Array.isArray(a[t])?o.push(...a[t]):o.push(a[t]);return o.join(`
`)}return"Erro desconhecido"}function w(a){return{"The password field must be at least 6 characters.":"A senha deve ter no mínimo 6 caracteres.","The email field must be a valid email address.":"Digite um email válido.","The email has already been taken.":"Este email já está cadastrado.","The name field is required.":"O nome é obrigatório.","The email field is required.":"O email é obrigatório.","The password field is required.":"A senha é obrigatória.","Invalid credentials":"Email ou senha incorretos.",Unauthenticated:"Você precisa estar logado.","Token expirado":"Sua sessão expirou. Faça login novamente.","Token inválido":"Sessão inválida. Faça login novamente."}[a]||a}function y(a){const o=x(a);return o.includes(`
`)?o.split(`
`).map(t=>w(t)).join(`
`):w(o)}const V={class:"auth-layout"},j={class:"auth-card"},q={class:"form-group"},L={class:"form-group"},B={key:0,class:"form-error",style:{"margin-bottom":"16px","white-space":"pre-line"}},D=["disabled"],M={key:0,class:"fas fa-sign-in-alt"},N={key:1,class:"fas fa-spinner fa-spin"},z={__name:"LoginAdmin",setup(a){const o=k(),t=_(),i=p({email:"",password:""}),l=p(!1),d=p("");async function E(){var m,e,r,v;l.value=!0,d.value="";try{const n=await t.loginAdmin(i.value.email,i.value.password);n.success?(window.showSuccess("Login realizado com sucesso!"),o.push("/")):d.value=y(n.error||"Email ou senha incorretos")}catch(n){console.error("Login error:",n);const T=((e=(m=n.response)==null?void 0:m.data)==null?void 0:e.message)||((v=(r=n.response)==null?void 0:r.data)==null?void 0:v.error);d.value=y(T||"Erro ao fazer login. Tente novamente.")}finally{l.value=!1}}return(m,e)=>(c(),u("div",V,[s("div",j,[e[5]||(e[5]=s("div",{class:"auth-header"},[s("h1",null,[s("i",{class:"fas fa-briefcase"}),f(" Yojob ATS")]),s("p",null,"Login de Administrador")],-1)),s("form",{onSubmit:A(E,["prevent"])},[s("div",q,[e[2]||(e[2]=s("label",{for:"email"},"Email",-1)),h(s("input",{type:"email",id:"email","onUpdate:modelValue":e[0]||(e[0]=r=>i.value.email=r),class:"input",placeholder:"seu@email.com",required:"",autocomplete:"email"},null,512),[[g,i.value.email]])]),s("div",L,[e[3]||(e[3]=s("label",{for:"password"},"Senha",-1)),h(s("input",{type:"password",id:"password","onUpdate:modelValue":e[1]||(e[1]=r=>i.value.password=r),class:"input",placeholder:"••••••••",required:"",autocomplete:"current-password"},null,512),[[g,i.value.password]])]),d.value?(c(),u("div",B,[e[4]||(e[4]=s("i",{class:"fas fa-exclamation-circle"},null,-1)),f(" "+b(d.value),1)])):S("",!0),s("button",{type:"submit",class:"btn btn-primary",style:{width:"100%"},disabled:l.value},[l.value?(c(),u("i",N)):(c(),u("i",M)),f(" "+b(l.value?"Entrando...":"Entrar"),1)],8,D)],32)])]))}};export{z as default};
