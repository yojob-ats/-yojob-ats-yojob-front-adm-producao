import{r as n,i as b,c as i,g as w,a as o,w as y,e as r,v as u,m as v,F as _,k as q,t as m,f as C,o as d}from"./index-CBT-DF28.js";import{_ as S}from"./SidebarRecruiter-DDRAIM96.js";import{f as c}from"./faq-D5GBxYgp.js";import{_ as V}from"./_plugin-vue_export-helper-DlAUqK2U.js";const k={class:"layout-wrapper"},E={class:"main-content"},F={class:"container"},P={class:"page-header"},U={class:"card"},$={class:"form-group"},x={class:"form-group"},D={class:"form-row"},M={class:"form-group"},h=["value"],B={class:"form-group"},N={class:"form-group"},R={class:"form-actions"},A=["disabled"],I={__name:"CreateFaq",setup(L){const f=C(),l=n(!1),p=n([]),a=n({question:"",answer:"",category_id:"",status:"draft",order:0});b(async()=>{var s;try{const e=await c.listCategories();p.value=((s=e.data)==null?void 0:s.data)??e.data??[]}catch{window.showError("Erro ao carregar categorias")}});async function g(){l.value=!0;try{await c.create(a.value),window.showSuccess("Pergunta criada com sucesso"),f.push("/faq")}catch{window.showError("Erro ao criar pergunta")}finally{l.value=!1}}return(s,e)=>(d(),i("div",k,[w(S),o("main",E,[o("div",F,[o("header",P,[e[7]||(e[7]=o("div",null,[o("h1",null,"Nova Pergunta"),o("p",null,"Adicione uma nova pergunta frequente")],-1)),o("button",{onClick:e[0]||(e[0]=t=>s.$router.push("/faq")),class:"btn btn-secondary"},"â† Voltar")]),o("div",U,[o("form",{onSubmit:y(g,["prevent"])},[o("div",$,[e[8]||(e[8]=o("label",null,"Pergunta",-1)),r(o("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>a.value.question=t),class:"form-control",type:"text",required:"",placeholder:"Digite a pergunta"},null,512),[[u,a.value.question]])]),o("div",x,[e[9]||(e[9]=o("label",null,"Resposta",-1)),r(o("textarea",{"onUpdate:modelValue":e[2]||(e[2]=t=>a.value.answer=t),class:"form-control",rows:"8",required:"",placeholder:"Digite a resposta..."},null,512),[[u,a.value.answer]])]),o("div",D,[o("div",M,[e[11]||(e[11]=o("label",null,"Categoria",-1)),r(o("select",{"onUpdate:modelValue":e[3]||(e[3]=t=>a.value.category_id=t),class:"form-control"},[e[10]||(e[10]=o("option",{value:""},"Selecione uma categoria",-1)),(d(!0),i(_,null,q(p.value,t=>(d(),i("option",{key:t.id,value:t.id},m(t.name),9,h))),128))],512),[[v,a.value.category_id]])]),o("div",B,[e[13]||(e[13]=o("label",null,"Status",-1)),r(o("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>a.value.status=t),class:"form-control"},[...e[12]||(e[12]=[o("option",{value:"draft"},"Rascunho",-1),o("option",{value:"published"},"Publicado",-1)])],512),[[v,a.value.status]])])]),o("div",N,[e[14]||(e[14]=o("label",null,"Ordem",-1)),r(o("input",{"onUpdate:modelValue":e[5]||(e[5]=t=>a.value.order=t),class:"form-control",type:"number",min:"0",placeholder:"0"},null,512),[[u,a.value.order,void 0,{number:!0}]])]),o("div",R,[o("button",{type:"button",onClick:e[6]||(e[6]=t=>s.$router.push("/faq")),class:"btn btn-secondary"},"Cancelar"),o("button",{type:"submit",class:"btn btn-primary",disabled:l.value},m(l.value?"Salvando...":"Criar Pergunta"),9,A)])],32)])])])]))}},G=V(I,[["__scopeId","data-v-e2fbd526"]]);export{G as default};
