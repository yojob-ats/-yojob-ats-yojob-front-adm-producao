import{l as E,r as i,i as S,c as l,g as k,a,w as V,e as n,v,m as y,F as C,k as R,t as b,f as F,o as u}from"./index-CBT-DF28.js";import{_ as P}from"./SidebarRecruiter-DDRAIM96.js";import{f as p}from"./faq-D5GBxYgp.js";import{_ as U}from"./_plugin-vue_export-helper-DlAUqK2U.js";const $={class:"layout-wrapper"},x={class:"main-content"},B={class:"container"},M={class:"page-header"},I={key:0,class:"card loading-state"},h={key:1,class:"card"},D={class:"form-group"},N={class:"form-group"},z={class:"form-row"},L={class:"form-group"},O=["value"],T={class:"form-group"},j={class:"form-group"},A={class:"form-actions"},G=["disabled"],H={__name:"EditFaq",setup(J){const w=E(),_=F(),m=w.params.id,f=i(!0),d=i(!1),c=i([]),o=i({question:"",answer:"",category_id:"",status:"draft",order:0});S(async()=>{var r,t;try{const[e,g]=await Promise.all([p.getById(m),p.listCategories()]),s=e.data;o.value={question:s.question??"",answer:s.answer??"",category_id:s.category_id??((r=s.category)==null?void 0:r.id)??"",status:s.status??"draft",order:s.order??0},c.value=((t=g.data)==null?void 0:t.data)??g.data??[]}catch{window.showError("Erro ao carregar pergunta")}finally{f.value=!1}});async function q(){d.value=!0;try{await p.update(m,o.value),window.showSuccess("Pergunta atualizada com sucesso"),_.push("/faq")}catch{window.showError("Erro ao salvar pergunta")}finally{d.value=!1}}return(r,t)=>(u(),l("div",$,[k(P),a("main",x,[a("div",B,[a("header",M,[t[7]||(t[7]=a("div",null,[a("h1",null,"Editar Pergunta"),a("p",null,"Edite os detalhes da pergunta frequente")],-1)),a("button",{onClick:t[0]||(t[0]=e=>r.$router.push("/faq")),class:"btn btn-secondary"},"â† Voltar")]),f.value?(u(),l("div",I,"Carregando...")):(u(),l("div",h,[a("form",{onSubmit:V(q,["prevent"])},[a("div",D,[t[8]||(t[8]=a("label",null,"Pergunta",-1)),n(a("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>o.value.question=e),class:"form-control",type:"text",required:""},null,512),[[v,o.value.question]])]),a("div",N,[t[9]||(t[9]=a("label",null,"Resposta",-1)),n(a("textarea",{"onUpdate:modelValue":t[2]||(t[2]=e=>o.value.answer=e),class:"form-control",rows:"8",required:""},null,512),[[v,o.value.answer]])]),a("div",z,[a("div",L,[t[11]||(t[11]=a("label",null,"Categoria",-1)),n(a("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>o.value.category_id=e),class:"form-control"},[t[10]||(t[10]=a("option",{value:""},"Selecione uma categoria",-1)),(u(!0),l(C,null,R(c.value,e=>(u(),l("option",{key:e.id,value:e.id},b(e.name),9,O))),128))],512),[[y,o.value.category_id]])]),a("div",T,[t[13]||(t[13]=a("label",null,"Status",-1)),n(a("select",{"onUpdate:modelValue":t[4]||(t[4]=e=>o.value.status=e),class:"form-control"},[...t[12]||(t[12]=[a("option",{value:"draft"},"Rascunho",-1),a("option",{value:"published"},"Publicado",-1)])],512),[[y,o.value.status]])])]),a("div",j,[t[14]||(t[14]=a("label",null,"Ordem",-1)),n(a("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>o.value.order=e),class:"form-control",type:"number",min:"0"},null,512),[[v,o.value.order,void 0,{number:!0}]])]),a("div",A,[a("button",{type:"button",onClick:t[6]||(t[6]=e=>r.$router.push("/faq")),class:"btn btn-secondary"},"Cancelar"),a("button",{type:"submit",class:"btn btn-primary",disabled:d.value},b(d.value?"Salvando...":"Salvar"),9,G)])],32)]))])])]))}},Y=U(H,[["__scopeId","data-v-d8df6250"]]);export{Y as default};
