import{l as q,r as d,i as E,c as l,g as S,a as o,w as k,e as n,v,m as g,F as V,k as C,t as y,f as R,o as u}from"./index-CrCP7KB_.js";import{_ as F}from"./SidebarRecruiter-DrJaVIuD.js";import{f as p}from"./faq-ISDlo6V4.js";import{t as P}from"./apiHelper-nSI_QOaT.js";import{_ as U}from"./_plugin-vue_export-helper-DlAUqK2U.js";const $={class:"layout-wrapper"},x={class:"main-content"},B={class:"container"},M={class:"page-header"},I={key:0,class:"card loading-state"},h={key:1,class:"card"},D={class:"form-group"},N={class:"form-group"},z={class:"form-row"},A={class:"form-group"},L=["value"],O={class:"form-group"},T={class:"form-group"},j={class:"form-actions"},G=["disabled"],H={__name:"EditFaq",setup(J){const b=q(),w=R(),m=b.params.id,f=d(!0),i=d(!1),c=d([]),e=d({question:"",answer:"",category_id:"",status:"draft",order:0});E(async()=>{var r;try{const[t,a]=await Promise.all([p.getById(m),p.listCategories()]),s=t.data;e.value={question:s.question??"",answer:s.answer??"",category_id:s.category_id??((r=s.category)==null?void 0:r.id)??"",status:s.status??"draft",order:s.order??0},c.value=P(a.data)}catch{window.showError("Erro ao carregar pergunta")}finally{f.value=!1}});async function _(){i.value=!0;try{await p.update(m,e.value),window.showSuccess("Pergunta atualizada com sucesso"),w.push("/faq")}catch{window.showError("Erro ao salvar pergunta")}finally{i.value=!1}}return(r,t)=>(u(),l("div",$,[S(F),o("main",x,[o("div",B,[o("header",M,[t[7]||(t[7]=o("div",null,[o("h1",null,"Editar Pergunta"),o("p",null,"Edite os detalhes da pergunta frequente")],-1)),o("button",{onClick:t[0]||(t[0]=a=>r.$router.push("/faq")),class:"btn btn-secondary"},"â† Voltar")]),f.value?(u(),l("div",I,"Carregando...")):(u(),l("div",h,[o("form",{onSubmit:k(_,["prevent"])},[o("div",D,[t[8]||(t[8]=o("label",null,"Pergunta",-1)),n(o("input",{"onUpdate:modelValue":t[1]||(t[1]=a=>e.value.question=a),class:"form-control",type:"text",required:""},null,512),[[v,e.value.question]])]),o("div",N,[t[9]||(t[9]=o("label",null,"Resposta",-1)),n(o("textarea",{"onUpdate:modelValue":t[2]||(t[2]=a=>e.value.answer=a),class:"form-control",rows:"8",required:""},null,512),[[v,e.value.answer]])]),o("div",z,[o("div",A,[t[11]||(t[11]=o("label",null,"Categoria",-1)),n(o("select",{"onUpdate:modelValue":t[3]||(t[3]=a=>e.value.category_id=a),class:"form-control"},[t[10]||(t[10]=o("option",{value:""},"Selecione uma categoria",-1)),(u(!0),l(V,null,C(c.value,a=>(u(),l("option",{key:a.id,value:a.id},y(a.name),9,L))),128))],512),[[g,e.value.category_id]])]),o("div",O,[t[13]||(t[13]=o("label",null,"Status",-1)),n(o("select",{"onUpdate:modelValue":t[4]||(t[4]=a=>e.value.status=a),class:"form-control"},[...t[12]||(t[12]=[o("option",{value:"draft"},"Rascunho",-1),o("option",{value:"published"},"Publicado",-1)])],512),[[g,e.value.status]])])]),o("div",T,[t[14]||(t[14]=o("label",null,"Ordem",-1)),n(o("input",{"onUpdate:modelValue":t[5]||(t[5]=a=>e.value.order=a),class:"form-control",type:"number",min:"0"},null,512),[[v,e.value.order,void 0,{number:!0}]])]),o("div",j,[o("button",{type:"button",onClick:t[6]||(t[6]=a=>r.$router.push("/faq")),class:"btn btn-secondary"},"Cancelar"),o("button",{type:"submit",class:"btn btn-primary",disabled:i.value},y(i.value?"Salvando...":"Salvar"),9,G)])],32)]))])])]))}},Z=U(H,[["__scopeId","data-v-e0d30753"]]);export{Z as default};
