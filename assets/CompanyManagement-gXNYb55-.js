import{r as i,i as b,j as g,c as o,g as y,a as t,e as _,v as C,m as k,d as S,F as w,k as B,o as l,t as u,n as E}from"./index-kKH9VJDc.js";import{_ as L}from"./SidebarRecruiter-DLGJijLr.js";import{b as A}from"./billing-C9WqCp0W.js";import{t as M}from"./apiHelper-nSI_QOaT.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";const V={class:"layout-wrapper"},$={class:"main-content"},x={class:"container"},F={class:"filters"},I={class:"card"},T={key:0,class:"loading-state"},q={key:1,class:"table-responsive"},D={class:"table"},R={key:0},U={class:"action-buttons"},j=["onClick"],z={__name:"CompanyManagement",setup(G){const d=i(""),r=i(""),c=i([]),m=i(!0);b(async()=>{try{const s=await A.getCompanies();c.value=M(s.data)}catch{window.showError("Erro ao carregar empresas")}finally{m.value=!1}});const p=g(()=>c.value.filter(s=>{var n;if(!s)return!1;const e=(n=s.name)==null?void 0:n.toLowerCase().includes(d.value.toLowerCase()),a=!r.value||s.status===r.value;return e&&a})),h=s=>Number(s??0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),f=s=>({active:"Ativa",inactive:"Inativa",blocked:"Bloqueada"})[s]??s;return(s,e)=>(l(),o("div",V,[y(L),t("main",$,[t("div",x,[e[5]||(e[5]=t("header",{class:"page-header"},[t("div",null,[t("h1",null,"Gestão de Empresas"),t("p",null,"Administre todas as empresas cadastradas")])],-1)),t("div",F,[_(t("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>d.value=a),type:"text",placeholder:"Buscar empresas...",class:"search-input"},null,512),[[C,d.value]]),_(t("select",{"onUpdate:modelValue":e[1]||(e[1]=a=>r.value=a),class:"select-input"},[...e[2]||(e[2]=[t("option",{value:""},"Todos os Status",-1),t("option",{value:"active"},"Ativa",-1),t("option",{value:"inactive"},"Inativa",-1),t("option",{value:"blocked"},"Bloqueada",-1)])],512),[[k,r.value]])]),t("div",I,[m.value?(l(),o("div",T,"Carregando...")):(l(),o("div",q,[t("table",D,[e[4]||(e[4]=t("thead",null,[t("tr",null,[t("th",null,"Empresa"),t("th",null,"Plano"),t("th",null,"Status"),t("th",null,"Total Faturado"),t("th",null,"Ações")])],-1)),t("tbody",null,[p.value.length===0?(l(),o("tr",R,[...e[3]||(e[3]=[t("td",{colspan:"5",class:"empty-state"},"Nenhuma empresa encontrada",-1)])])):S("",!0),(l(!0),o(w,null,B(p.value,a=>{var n,v;return l(),o("tr",{key:a.id},[t("td",null,[t("strong",null,u(a.name),1)]),t("td",null,u(((v=(n=a.active_subscription)==null?void 0:n.plan)==null?void 0:v.name)??"—"),1),t("td",null,[t("span",{class:E(["badge",`badge-${a.status}`])},u(f(a.status)),3)]),t("td",null,u(h(a.receita_total??0)),1),t("td",U,[t("button",{onClick:P=>s.$router.push(`/gestao-empresas/editar/${a.id}`),class:"btn btn-sm btn-primary"},"Editar",8,j)])])}),128))])])]))])])])]))}},W=N(z,[["__scopeId","data-v-2a266fd6"]]);export{W as default};
