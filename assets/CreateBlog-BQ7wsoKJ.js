import{r as i,i as f,c as u,g as y,a as t,w,e as l,v as n,m as v,F as _,k as C,t as m,f as V,o as d}from"./index-BW0SG1OL.js";import{_ as S}from"./SidebarRecruiter-CqvTDxCK.js";import{b as c}from"./blog-Bq-OHucs.js";import{_ as h}from"./_plugin-vue_export-helper-DlAUqK2U.js";const k={class:"layout-wrapper"},U={class:"main-content"},x={class:"container"},A={class:"page-header"},B={class:"card"},D={class:"form-group"},E={class:"form-group"},$={class:"form-group"},M=["value"],N={class:"form-group"},q={class:"form-row"},F={class:"form-group"},P={class:"form-group"},R={class:"form-actions"},T=["disabled"],I={__name:"CreateBlog",setup(L){const g=V(),r=i(!1),p=i([]),a=i({title:"",author:"",category_id:"",content:"",published_at:"",status:"draft"});f(async()=>{var s;try{const o=await c.listCategories();p.value=((s=o.data)==null?void 0:s.data)??o.data??[]}catch{window.showError("Erro ao carregar categorias")}});async function b(){r.value=!0;try{await c.create(a.value),window.showSuccess("Artigo criado com sucesso"),g.push("/blog")}catch{window.showError("Erro ao criar artigo")}finally{r.value=!1}}return(s,o)=>(d(),u("div",k,[y(S),t("main",U,[t("div",x,[t("header",A,[o[8]||(o[8]=t("div",null,[t("h1",null,"Novo Artigo"),t("p",null,"Cadastre um novo artigo para o blog")],-1)),t("button",{onClick:o[0]||(o[0]=e=>s.$router.push("/blog")),class:"btn btn-secondary"},"← Voltar")]),t("div",B,[t("form",{onSubmit:w(b,["prevent"])},[t("div",D,[o[9]||(o[9]=t("label",null,"Título",-1)),l(t("input",{"onUpdate:modelValue":o[1]||(o[1]=e=>a.value.title=e),class:"form-control",type:"text",required:"",placeholder:"Digite o título do artigo"},null,512),[[n,a.value.title]])]),t("div",E,[o[10]||(o[10]=t("label",null,"Autor",-1)),l(t("input",{"onUpdate:modelValue":o[2]||(o[2]=e=>a.value.author=e),class:"form-control",type:"text",required:"",placeholder:"Nome do autor"},null,512),[[n,a.value.author]])]),t("div",$,[o[12]||(o[12]=t("label",null,"Categoria",-1)),l(t("select",{"onUpdate:modelValue":o[3]||(o[3]=e=>a.value.category_id=e),class:"form-control"},[o[11]||(o[11]=t("option",{value:""},"Selecione uma categoria",-1)),(d(!0),u(_,null,C(p.value,e=>(d(),u("option",{key:e.id,value:e.id},m(e.name),9,M))),128))],512),[[v,a.value.category_id]])]),t("div",N,[o[13]||(o[13]=t("label",null,"Conteúdo",-1)),l(t("textarea",{"onUpdate:modelValue":o[4]||(o[4]=e=>a.value.content=e),class:"form-control",rows:"10",required:"",placeholder:"Digite o conteúdo do artigo..."},null,512),[[n,a.value.content]])]),t("div",q,[t("div",F,[o[14]||(o[14]=t("label",null,"Data de Publicação",-1)),l(t("input",{"onUpdate:modelValue":o[5]||(o[5]=e=>a.value.published_at=e),class:"form-control",type:"date"},null,512),[[n,a.value.published_at]])]),t("div",P,[o[16]||(o[16]=t("label",null,"Status",-1)),l(t("select",{"onUpdate:modelValue":o[6]||(o[6]=e=>a.value.status=e),class:"form-control"},[...o[15]||(o[15]=[t("option",{value:"draft"},"Rascunho",-1),t("option",{value:"published"},"Publicado",-1)])],512),[[v,a.value.status]])])]),t("div",R,[t("button",{type:"button",onClick:o[7]||(o[7]=e=>s.$router.push("/blog")),class:"btn btn-secondary"},"Cancelar"),t("button",{type:"submit",class:"btn btn-primary",disabled:r.value},m(r.value?"Salvando...":"Criar Artigo"),9,T)])],32)])])])]))}},J=h(I,[["__scopeId","data-v-d5e7ce9a"]]);export{J as default};
