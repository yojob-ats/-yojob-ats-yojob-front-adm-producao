import{r,i as _,j as m,c as a,g as v,a as t,e as h,v as y,d as f,F as g,k as w,o as l,t as i}from"./index-BW0SG1OL.js";import{_ as b}from"./SidebarRecruiter-CqvTDxCK.js";import{s as k}from"./siteContent-BWbDQJyG.js";import{_ as C}from"./_plugin-vue_export-helper-DlAUqK2U.js";const T={class:"layout-wrapper"},x={class:"main-content"},L={class:"container"},S={class:"filters"},B={class:"card"},D={key:0,class:"loading-state"},E={key:1,class:"table-responsive"},N={class:"table"},V={key:0},$={class:"type-badge"},F=["onClick"],M={__name:"SiteTexts",setup(j){const n=r(""),d=r([]),c=r(!0);_(async()=>{var o;try{const e=await k.list();d.value=((o=e.data)==null?void 0:o.data)??e.data??[]}catch{window.showError("Erro ao carregar textos do site")}finally{c.value=!1}});const u=m(()=>d.value.filter(o=>{var e,s;return((e=o.type)==null?void 0:e.toLowerCase().includes(n.value.toLowerCase()))||((s=o.title)==null?void 0:s.toLowerCase().includes(n.value.toLowerCase()))})),p=o=>o?new Date(o).toLocaleDateString("pt-BR"):"—";return(o,e)=>(l(),a("div",T,[v(b),t("main",x,[t("div",L,[e[3]||(e[3]=t("header",{class:"page-header"},[t("div",null,[t("h1",null,"Textos do Site"),t("p",null,"Gerencie os conteúdos estáticos do site")])],-1)),t("div",S,[h(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>n.value=s),type:"text",placeholder:"Buscar por tipo ou título...",class:"search-input"},null,512),[[y,n.value]])]),t("div",B,[c.value?(l(),a("div",D,"Carregando...")):(l(),a("div",E,[t("table",N,[e[2]||(e[2]=t("thead",null,[t("tr",null,[t("th",null,"Tipo"),t("th",null,"Título"),t("th",null,"Última Edição"),t("th",null,"Ações")])],-1)),t("tbody",null,[u.value.length===0?(l(),a("tr",V,[...e[1]||(e[1]=[t("td",{colspan:"4",class:"empty-state"},"Nenhum conteúdo encontrado",-1)])])):f("",!0),(l(!0),a(g,null,w(u.value,s=>(l(),a("tr",{key:s.type},[t("td",null,[t("span",$,i(s.type),1)]),t("td",null,i(s.title??s.type),1),t("td",null,i(p(s.updated_at)),1),t("td",null,[t("button",{onClick:A=>o.$router.push(`/textos-site/editar/${s.type}`),class:"btn btn-sm btn-primary"},"Editar",8,F)])]))),128))])])]))])])])]))}},U=C(M,[["__scopeId","data-v-6b549c33"]]);export{U as default};
